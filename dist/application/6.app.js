(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{171:function(e,t,s){"use strict";s.r(t),s.d(t,"PrescriptionsPage",function(){return E});var n=s(1),i=s(5),c=s(2),a=s(4),l=s(6),r=s(3),d=s(8),o=s(46),m=s(20),p=s(13),h=s(18),b=s(45),u=s(0);let E=class extends u.Component{constructor(){super(...arguments),this.showMenu=!0,this.selectedID=c.y.currentLocation.split("/")[1]}get selectedIndex(){return a.Z.list.findIndex(e=>e._id===this.selectedID)}get selectedPrescription(){return a.Z.list[this.selectedIndex]}get canEdit(){return c.C.currentUser.canEditPrescriptions}render(){return u.createElement("div",{className:"pc-pg p-15 p-l-10 p-r-10"},u.createElement(i.e,{onDelete:this.canEdit?e=>{a.Z.deleteModal(e)}:void 0,commands:this.canEdit?[{key:"addNew",title:"Add new",name:Object(c.B)("Add new"),onClick:()=>{const e=new a.x;a.Z.list.push(e),this.selectedID=e._id},iconProps:{iconName:"Add"}}]:[],heads:[Object(c.B)("Item name"),Object(c.B)("Dose"),Object(c.B)("Frequency"),Object(c.B)("Form")],rows:a.Z.list.map(e=>({id:e._id,searchableString:e.searchableString,cells:[{dataValue:e.name,component:u.createElement(i.l,{text:e.name,subText:`${e.doseInMg}${Object(c.B)("mg")} ${e.timesPerDay}X${e.unitsPerTime} ${Object(c.B)(Object(a.R)(e.form))}`}),onClick:()=>{this.selectedID=e._id},className:"no-label"},{dataValue:e.doseInMg,component:u.createElement("span",null,e.doseInMg," ",Object(c.B)("mg")),className:"hidden-xs"},{dataValue:e.timesPerDay,component:u.createElement("span",null,e.timesPerDay," *"," ",e.unitsPerTime),className:"hidden-xs"},{dataValue:e.form,component:u.createElement("span",null,Object(c.B)(Object(a.R)(e.form))),className:"hidden-xs"}]})),maxItemsOnLoad:20}),this.selectedPrescription?u.createElement(o.a,{isOpen:!!this.selectedPrescription,type:m.a.medium,closeButtonAriaLabel:"Close",isLightDismiss:!0,onDismiss:()=>{this.selectedID=""},onRenderNavigation:()=>u.createElement(i.m,{className:"panel-heading"},u.createElement(i.c,{span:20},this.selectedPrescription?u.createElement(i.l,{text:this.selectedPrescription.name,subText:`${this.selectedPrescription.doseInMg}${Object(c.B)("mg")} ${this.selectedPrescription.timesPerDay}X${this.selectedPrescription.unitsPerTime} ${Object(c.B)(Object(a.R)(this.selectedPrescription.form))}`}):u.createElement("p",null)),u.createElement(i.c,{span:4,className:"close"},u.createElement(p.a,{iconProps:{iconName:"cancel"},onClick:()=>{this.selectedID=""}})))},u.createElement("div",{className:"prescription-editor"},u.createElement(i.n,{title:Object(c.B)("Prescription Details")},u.createElement(h.a,{label:Object(c.B)("Item name"),value:this.selectedPrescription.name,onChange:(e,t)=>a.Z.list[this.selectedIndex].name=t,disabled:!this.canEdit}),u.createElement(i.m,{gutter:6},u.createElement(i.c,{md:8},u.createElement(h.a,{label:Object(c.B)("Dosage in mg"),type:"number",value:this.selectedPrescription.doseInMg.toString(),onChange:(e,t)=>a.Z.list[this.selectedIndex].doseInMg=Object(l.r)(t),disabled:!this.canEdit})),u.createElement(i.c,{md:8},u.createElement(h.a,{label:Object(c.B)("Times per day"),type:"number",value:this.selectedPrescription.timesPerDay.toString(),onChange:(e,t)=>a.Z.list[this.selectedIndex].timesPerDay=Object(l.r)(t),disabled:!this.canEdit})),u.createElement(i.c,{md:8},u.createElement(h.a,{label:Object(c.B)("Units per time"),type:"number",value:this.selectedPrescription.unitsPerTime.toString(),onChange:(e,t)=>a.Z.list[this.selectedIndex].unitsPerTime=Object(l.r)(t),disabled:!this.canEdit}))),u.createElement(b.a,{disabled:!this.canEdit,label:Object(c.B)("Item form"),className:"form-picker",selectedKey:Object(a.R)(this.selectedPrescription.form),options:a.Y.map(e=>({key:e,text:Object(c.B)(e)})),onChange:(e,t)=>{a.Z.list[this.selectedIndex].form=Object(a.rb)(t.text)}})))):"")}};n.c([r.k],E.prototype,"showMenu",void 0),n.c([r.k],E.prototype,"selectedID",void 0),n.c([r.d],E.prototype,"selectedIndex",null),n.c([r.d],E.prototype,"selectedPrescription",null),n.c([r.d],E.prototype,"canEdit",null),E=n.c([d.a],E)}}]);