(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{157:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var s=a(0),n=a(8),l=a(2),i=a(7),r=a(141),p=a(330),d=a(144),o=a(148),c=a(170),m=a(1);let h=class extends m.Component{constructor(){super(...arguments),this.valueToAdd="",this.expandIndex=-1}addItem(){this.valueToAdd.replace(/\W/,"").length&&(this.props.value.push(this.valueToAdd),this.valueToAdd="",(this.props.onChange||(()=>{}))(this.props.value))}render(){return m.createElement("div",{className:"elc-c",style:this.props.style},m.createElement("div",{className:"editable-list"},m.createElement("div",{className:"input",style:this.props.value.length?{}:{borderBottom:"none"}},m.createElement(n.k,null,m.createElement(n.c,{xs:this.props.disabled?24:20,sm:this.props.disabled?24:21},m.createElement("input",{className:"new-item-input",style:this.props.value.length>0?void 0:{borderBottom:"none"},placeholder:this.props.label||void 0,onKeyDown:e=>{13===e.keyCode&&(this.addItem(),e.preventDefault())},onKeyUp:e=>{13===e.keyCode&&(this.addItem(),e.preventDefault())},value:this.valueToAdd,onChange:e=>this.valueToAdd=e.target.value,disabled:this.props.disabled})),m.createElement(n.c,{xs:4,sm:3,style:{textAlign:"right"}},this.props.disabled?"":m.createElement(r.a,{className:"input-icon",iconName:"Add",onClick:()=>{this.addItem()}})))),this.props.value.length?m.createElement("div",{className:"items"},m.createElement(p.a,{compact:!0,items:[...this.props.value.map((e,t)=>[m.createElement("div",{id:t.toString()},this.expandIndex===t?m.createElement("div",{className:"list-item"},m.createElement(d.a,{multiline:!0,value:e,onBlur:()=>this.expandIndex=-1,disabled:this.props.disabled,autoFocus:!0,onChange:(e,a)=>{this.props.value[t]=a,(this.props.onChange||(()=>{}))(this.props.value)}})):m.createElement("div",{className:"el-expander",onClick:()=>{this.expandIndex=t}},e.length>30?e.substr(0,25)+"...":e),m.createElement(o.a,{className:"delete",iconProps:{iconName:"trash"},onClick:e=>{this.expandIndex=-1,this.props.value.splice(t,1),(this.props.onChange||(()=>{}))(this.props.value)},disabled:this.props.disabled}))])],isHeaderVisible:!1,selectionMode:c.b.none})):""))}};s.c([l.k],h.prototype,"valueToAdd",void 0),s.c([l.k],h.prototype,"expandIndex",void 0),h=s.c([i.a],h)},211:function(e,t,a){"use strict";a.r(t),a.d(t,"PatientDetailsPanel",function(){return u});var s=a(0),n=a(157),l=a(8),i=a(3),r=a(13),p=a(4),d=a(2),o=a(7),c=a(144),m=a(333),h=a(1);let u=class extends h.Component{get canEdit(){return i.B.currentUser.canEditPatients}render(){return h.createElement("div",{className:"spd-pn"},h.createElement(l.l,{title:Object(i.A)("Basic Info")},h.createElement("div",{className:"name"},h.createElement(c.a,{label:Object(i.A)("Name"),value:this.props.patient.name,onChange:(e,t)=>this.props.patient.name=t,disabled:!this.canEdit})),h.createElement(l.k,{gutter:6},h.createElement(l.c,{sm:12},h.createElement("div",{className:"birth"},h.createElement(c.a,{label:Object(i.A)("Birth year / age"),value:this.props.patient.birthYear.toString(),onChange:(e,t)=>this.props.patient.birthYear=Object(p.r)(t),type:"number",disabled:!this.canEdit}))),h.createElement(l.c,{sm:12},h.createElement("div",{className:"gender"},h.createElement(m.a,{label:Object(i.A)("Gender"),selectedKey:this.props.patient.gender===r.f.male?"male":"female",options:[{key:"male",text:Object(i.A)("Male")},{key:"female",text:Object(i.A)("Female")}],onChange:(e,t)=>{"male"===t.key?this.props.patient.gender=r.f.male:this.props.patient.gender=r.f.female},disabled:!this.canEdit}))))),h.createElement(l.l,{title:Object(i.A)("Contact Info")},h.createElement(c.a,{label:Object(i.A)("Phone"),value:this.props.patient.phone,onChange:(e,t)=>this.props.patient.phone=t,type:"number",disabled:!this.canEdit}),h.createElement(c.a,{label:Object(i.A)("Email"),value:this.props.patient.email,onChange:(e,t)=>this.props.patient.email=t,disabled:!this.canEdit}),h.createElement(c.a,{label:Object(i.A)("Address"),value:this.props.patient.address,onChange:(e,t)=>this.props.patient.address=t,disabled:!this.canEdit})),h.createElement(l.l,{title:Object(i.A)("Other Notes")},h.createElement(l.k,{gutter:6},h.createElement(l.c,{md:12}," ",h.createElement(l.n,{disabled:!this.canEdit,className:"patient-tags",placeholder:Object(i.A)("Labels"),options:[""].concat(...r.N.list.map(e=>e.labels.map(e=>e.text))).map(e=>({key:e,text:e})).reduce((e,t)=>(-1===e.findIndex(e=>e.key===t.key)&&e.push(t),e),[]),onChange:e=>{this.props.patient.labels=e.map(e=>({text:e.text,type:Object(l.s)(e.text)}))},value:this.props.patient.labels.map(e=>({key:e.text,text:e.text}))})),h.createElement(l.c,{md:12},h.createElement("div",{className:"medical-history"},h.createElement(n.a,{label:Object(i.A)("Notes"),value:this.props.patient.medicalHistory,onChange:e=>{this.props.patient.medicalHistory=e},style:{marginTop:"0"},disabled:!this.canEdit}))))))}};s.c([d.d],u.prototype,"canEdit",null),u=s.c([o.a],u)}}]);