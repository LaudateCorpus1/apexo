(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[11],{

/***/ "./src/modules/patients/components/patient-details.tsx":
/*!*************************************************************!*\
  !*** ./src/modules/patients/components/patient-details.tsx ***!
  \*************************************************************/
/*! exports provided: PatientDetailsPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PatientDetailsPanel\", function() { return PatientDetailsPanel; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @core */ \"./src/core/index.ts\");\n/* harmony import */ var _modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @modules */ \"./src/modules/index.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @utils */ \"./src/utils/index.ts\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/dist/mobxreact.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_loadable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-loadable */ \"./node_modules/react-loadable/lib/index.js\");\n/* harmony import */ var react_loadable__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_loadable__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @common-components */ \"./src/common-components/index.ts\");\n/* harmony import */ var office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! office-ui-fabric-react */ \"./node_modules/office-ui-fabric-react/lib/index.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst EditableListComponent = react_loadable__WEBPACK_IMPORTED_MODULE_7__({\n    loading: () => react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"Shimmer\"], null),\n    loader: () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"])(void 0, void 0, void 0, function* () { return (yield __webpack_require__.e(/*! import() */ 5).then(__webpack_require__.bind(null, /*! common-components/editable-list */ \"./src/common-components/editable-list.tsx\"))).EditableListComponent; }),\n});\nlet PatientDetailsPanel = class PatientDetailsPanel extends react__WEBPACK_IMPORTED_MODULE_6__[\"Component\"] {\n    get canEdit() {\n        return _core__WEBPACK_IMPORTED_MODULE_1__[\"user\"].currentUser.canEditPatients;\n    }\n    render() {\n        return (react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"spd-pn\" },\n            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"SectionComponent\"], { title: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(`basic info`).h },\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"name\" },\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(`name`).c, value: this.props.patient.name, onChange: (ev, name) => (this.props.patient.name = name), disabled: !this.canEdit, \"data-testid\": \"patient-name\" })),\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"Row\"], { gutter: 8 },\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"Col\"], { sm: 12 },\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"birth\" },\n                            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"birth year / age\").c, value: this.props.patient.birthYear.toString(), onChange: (ev, year) => (this.props.patient.birthYear = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"num\"])(year)), type: \"number\", disabled: !this.canEdit }))),\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"Col\"], { sm: 12 },\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"gender\" },\n                            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"Dropdown\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"gender\").c, selectedKey: this.props.patient.gender, options: [\n                                    { key: \"male\", text: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"male\").c },\n                                    {\n                                        key: \"female\",\n                                        text: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"female\").c,\n                                    },\n                                ], onChange: (ev, val) => {\n                                    if (val.key === \"male\") {\n                                        this.props.patient.gender = \"male\";\n                                    }\n                                    else {\n                                        this.props.patient.gender =\n                                            \"female\";\n                                    }\n                                }, disabled: !this.canEdit })))),\n                _core__WEBPACK_IMPORTED_MODULE_1__[\"status\"].isOnline.client && _core__WEBPACK_IMPORTED_MODULE_1__[\"status\"].isOnline.dropbox ? (react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", null,\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"Label\"], null, \"Avatar photo\"),\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"thumbs\" }, this.props.patient.gallery.map((image) => {\n                        if (_core__WEBPACK_IMPORTED_MODULE_1__[\"imagesTable\"].table[image]) {\n                            return (react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"a\", { className: `thumb ${this.props.patient\n                                    .avatar === image\n                                    ? \"selected\"\n                                    : \"\"}`, key: image, style: {\n                                    backgroundImage: `url('${_core__WEBPACK_IMPORTED_MODULE_1__[\"imagesTable\"].table[image]\n                                        ? _core__WEBPACK_IMPORTED_MODULE_1__[\"imagesTable\"].table[image]\n                                        : \"\"}')`,\n                                }, onClick: () => {\n                                    this.props.patient.avatar = image;\n                                } }));\n                        }\n                        else {\n                            _core__WEBPACK_IMPORTED_MODULE_1__[\"imagesTable\"].fetchImage(image);\n                        }\n                    })),\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"br\", null),\n                    this.props.patient.avatar ? (react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"span\", null,\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], { onClick: () => (this.props.patient.avatar = \"\") }, Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"delete\").c),\n                        \" \",\n                        \"/\",\n                        \" \")) : (\"\"),\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], { onClick: () => this.props.onChangeViewWhich(\"gallery\") }, Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"upload\").c))) : (\"\")),\n            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"SectionComponent\"], { title: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(`contact info`).h },\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"Row\"], { gutter: 8 },\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"Col\"], { sm: 12 },\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"phone\").c, value: this.props.patient.phone, onChange: (ev, phone) => (this.props.patient.phone = phone), type: \"number\", disabled: !this.canEdit })),\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"Col\"], { sm: 12 },\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"email\").c, value: this.props.patient.email, onChange: (ev, email) => (this.props.patient.email = email), disabled: !this.canEdit }))),\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"address\").c, value: this.props.patient.address, onChange: (ev, address) => (this.props.patient.address = address), disabled: !this.canEdit, multiline: true })),\n            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"SectionComponent\"], { title: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(`other notes`).h },\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_8__[\"TagInputComponent\"], { className: \"patient-labels\", disabled: !this.canEdit, label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"labels\").c, loose: true, options: _modules__WEBPACK_IMPORTED_MODULE_2__[\"patients\"].docs.map((x) => x.labels)\n                        .reduce((a, b) => a.concat(b.map((x) => x.text)), [])\n                        .map((x) => ({\n                        key: x,\n                        text: x,\n                    }))\n                        .reduce((arr, item) => {\n                        if (arr.findIndex((x) => x.key === item.key) === -1) {\n                            arr.push(item);\n                        }\n                        return arr;\n                    }, []), onChange: (newVal) => {\n                        this.props.patient.labels = newVal.map((item) => {\n                            return {\n                                text: item,\n                                type: Object(_common_components__WEBPACK_IMPORTED_MODULE_8__[\"getRandomTagType\"])(item),\n                            };\n                        });\n                    }, value: this.props.patient.labels.map((label) => ({\n                        key: label.text,\n                        text: label.text,\n                    })) }),\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"br\", null),\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"medical-history\" },\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](EditableListComponent, { label: Object(_core__WEBPACK_IMPORTED_MODULE_1__[\"text\"])(\"notes\").c, value: this.props.patient.medicalHistory, onChange: (newVal) => {\n                            this.props.patient.medicalHistory = newVal;\n                        }, style: { marginTop: \"0\" }, disabled: !this.canEdit })))));\n    }\n};\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"computed\"]\n], PatientDetailsPanel.prototype, \"canEdit\", null);\nPatientDetailsPanel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx_react__WEBPACK_IMPORTED_MODULE_5__[\"observer\"]\n], PatientDetailsPanel);\n\n\n\n//# sourceURL=webpack:///./src/modules/patients/components/patient-details.tsx?");

/***/ })

}]);