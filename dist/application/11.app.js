(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{176:function(e,t,n){"use strict";n.r(t),n.d(t,"StatisticsPage",function(){return d});var a=n(1),c=n(5),l=n(2),m=n(3),r=n(6),s=n(4),i=n(8),o=n(45),b=n(96),p=n(0);let d=class extends p.Component{constructor(){super(...arguments),this.appointment=null,this.charts=[m.H,m.M,m.tb,m.Q,m.N,m.rb,m.R,m.F]}render(){return p.createElement("div",{className:"sc-pg p-15 p-l-10 p-r-10"},p.createElement(c.e,{maxItemsOnLoad:20,className:"appointments-data-table",heads:[Object(l.B)("Appointment"),Object(l.B)("Treatment"),Object(l.B)("Paid"),Object(l.B)("Outstanding"),Object(l.B)("Expenses"),Object(l.B)("Profits")],rows:m.mb.selectedAppointments.map(e=>({id:e._id,searchableString:e.searchableString,cells:[{dataValue:(e.patient||new m.r).name,component:p.createElement(c.k,{secondaryElement:p.createElement("span",null,Object(r.j)(e.date,m.ib.getSetting("date_format"))," ","/"," ",e.operatingStaff.map(e=>p.createElement("i",{key:e._id},e.name," "))),name:(e.patient||new m.r).name,size:3}),onClick:()=>{this.appointment=e},className:"no-label"},{dataValue:e.treatmentID,component:p.createElement(c.l,{text:e.treatment?e.treatment.type:"",subText:Object(r.j)(e.date,m.ib.getSetting("date_format")),size:3,onClick:()=>{}}),className:"hidden-xs"},{dataValue:e.paidAmount,component:p.createElement("span",null,m.ib.getSetting("currencySymbol")+Object(r.s)(e.paidAmount).toString()),className:"hidden-xs"},{dataValue:e.outstandingAmount,component:p.createElement("span",null,m.ib.getSetting("currencySymbol")+Object(r.s)(e.outstandingAmount).toString()),className:"hidden-xs"},{dataValue:e.expenses,component:p.createElement("span",null,m.ib.getSetting("currencySymbol")+Object(r.s)(e.expenses).toString()),className:"hidden-xs"},{dataValue:e.profit,component:p.createElement("span",null,m.ib.getSetting("currencySymbol")+Object(r.s)(e.profit).toString()),className:"hidden-xs"}]})),farItems:[{key:"1",onRender:()=>p.createElement(o.a,{placeholder:Object(l.B)("Filter by staff member"),defaultValue:"",options:[{key:"",text:Object(l.B)("All members")}].concat(m.kb.list.map(e=>({key:e._id,text:e.name}))),onChange:(e,t)=>{m.mb.filterByMember=t.key.toString()}})}],hideSearch:!0,commands:[{key:"2",onRender:()=>p.createElement(b.a,{onSelectDate:e=>{e&&(m.mb.startingDate=m.mb.getDayStartingPoint(e.getTime()))},value:new Date(m.mb.startingDate),formatDate:e=>`${Object(l.B)("From")}: ${Object(r.j)(e,m.ib.getSetting("date_format"))}`})},{key:"3",onRender:()=>p.createElement(b.a,{onSelectDate:e=>{e&&(m.mb.endingDate=m.mb.getDayStartingPoint(e.getTime()))},value:new Date(m.mb.endingDate),formatDate:e=>`${Object(l.B)("Until")}: ${Object(r.j)(e,m.ib.getSetting("date_format"))}`})}]}),p.createElement(m.b,{appointment:this.appointment,onDismiss:()=>this.appointment=null,onDelete:()=>this.appointment=null}),p.createElement("div",{className:"container-fluid m-t-20 quick"},p.createElement(c.n,{title:Object(l.B)("Quick stats")},p.createElement(c.m,null,p.createElement(c.c,{sm:6,xs:12},p.createElement("label",null,Object(l.B)("Appointments"),":"," ",p.createElement(c.o,{text:Object(r.s)(m.mb.selectedAppointments.length).toString(),type:c.q.primary}))),p.createElement(c.c,{sm:6,xs:12},p.createElement("label",null,Object(l.B)("Payments"),":"," ",p.createElement(c.o,{text:m.ib.getSetting("currencySymbol")+Object(r.s)(m.mb.totalPayments).toString(),type:c.q.warning}))),p.createElement(c.c,{sm:6,xs:12},p.createElement("label",null,Object(l.B)("Expenses"),":"," ",p.createElement(c.o,{text:m.ib.getSetting("currencySymbol")+Object(r.s)(m.mb.totalExpenses).toString(),type:c.q.danger}))),p.createElement(c.c,{sm:6,xs:12},p.createElement("label",null,Object(l.B)("Profits"),":"," ",p.createElement(c.o,{text:m.ib.getSetting("currencySymbol")+Object(r.s)(m.mb.totalProfits).toString(),type:c.q.success})))))),p.createElement("div",{className:"charts container-fluid"},p.createElement("div",{className:"row"},this.charts.map((e,t)=>p.createElement("div",{key:t+e.name,className:"chart-wrapper "+(e.className||"col-xs-12 col-md-5 col-lg-4")},p.createElement(c.n,{title:Object(l.B)(e.name)},p.createElement(e.Component,null)))))))}};a.c([s.k],d.prototype,"appointment",void 0),a.c([s.k],d.prototype,"charts",void 0),d=a.c([i.a],d)}}]);