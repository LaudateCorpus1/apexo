(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{306:function(e,t,o){"use strict";o.r(t),o.d(t,"OrthoGalleryPanel",function(){return u});var i=o(1),r=o(7),a=o(3),n=o(9),c=o(5),s=o(2),p=o(8),l=o(301),h=o(152),m=o(296),d=o(15),C=o(0);let u=class extends C.Component{constructor(){super(...arguments),this.openCephalometricItem=void 0,this.cephalometricToViewIndex=-1}get canEdit(){return a.C.currentUser.canEditOrtho}get cephalometricToView(){return this.props.orthoCase.cephalometricHistory[this.cephalometricToViewIndex]}render(){return C.createElement("div",null,this.props.orthoCase.patient?C.createElement(n.p,{patient:this.props.orthoCase.patient}):"",this.openCephalometricItem?C.createElement(r.a,{key:"ortho-records",loader:()=>i.b(this,void 0,void 0,function*(){const e=(yield Promise.all([o.e(0),o.e(8)]).then(o.bind(null,307))).CephalometricEditorPanel;return this.openCephalometricItem?C.createElement(e,{onDismiss:()=>{this.openCephalometricItem=void 0,this.props.orthoCase.triggerUpdate++},item:this.openCephalometricItem}):C.createElement("div",null)})}):"",C.createElement(r.n,{title:Object(a.B)("Cephalometric Analysis")},a.A.online?a.A.dropboxActive?C.createElement("div",null,this.props.orthoCase.cephalometricHistory.map((e,t)=>C.createElement(r.m,{key:e.imgPath,style:{borderBottom:"1px solid #e3e3e3",marginBottom:"25px"}},C.createElement(r.c,{xs:20},C.createElement("div",{style:{marginBottom:10,cursor:"pointer"},onClick:()=>{this.cephalometricToViewIndex=t},key:t},C.createElement(r.k,{name:`${t+1}: ${Object(a.B)("Analysis")} #${t+1}`,secondaryElement:C.createElement("span",null,Object(c.j)(e.date,n.db.getSetting("date_format"))),size:3,onClick:()=>{this.openCephalometricItem=this.props.orthoCase.cephalometricHistory[t]}}))),C.createElement(r.c,{xs:4,style:{textAlign:"right"}},C.createElement(l.a,{iconProps:{iconName:"trash"},onClick:()=>this.props.orthoCase.cephalometricHistory.splice(t,1)})))),C.createElement(r.i,{allowMultiple:!1,accept:r.t.image,onFinish:e=>i.b(this,void 0,void 0,function*(){this.props.orthoCase.cephalometricHistory.push({date:(new Date).getTime(),imgPath:e[0],pointCoordinates:"{}"}),this.openCephalometricItem=this.props.orthoCase.cephalometricHistory[this.props.orthoCase.cephalometricHistory.length-1]}),targetDir:`${a.b}/${this.props.orthoCase._id}`},C.createElement(h.a,{iconProps:{iconName:"Add"},text:Object(a.B)("New analysis")}))):C.createElement(m.a,{messageBarType:d.a.warning},Object(a.B)("A valid DropBox access token is required for this section")):C.createElement(m.a,{messageBarType:d.a.warning},Object(a.B)("You can not access cephalometric data while offline"))))}};i.c([s.k],u.prototype,"openCephalometricItem",void 0),i.c([s.k],u.prototype,"cephalometricToViewIndex",void 0),i.c([s.d],u.prototype,"canEdit",null),i.c([s.d],u.prototype,"cephalometricToView",null),u=i.c([p.a],u)}}]);