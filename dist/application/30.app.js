(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{297:function(e,t,o){"use strict";o.r(t),o.d(t,"OrthoGalleryPanel",function(){return C});var i=o(0),r=o(8),a=o(3),n=o(13),c=o(4),s=o(2),l=o(7),p=o(148),h=o(81),m=o(146),d=o(10),u=o(1);let C=class extends u.Component{constructor(){super(...arguments),this.openCephalometricItem=void 0,this.cephalometricToViewIndex=-1}get canEdit(){return a.B.currentUser.canEditOrtho}get cephalometricToView(){return this.props.orthoCase.cephalometricHistory[this.cephalometricToViewIndex]}render(){return u.createElement("div",null,this.props.orthoCase.patient?u.createElement(n.n,{patient:this.props.orthoCase.patient}):"",this.openCephalometricItem?u.createElement(r.a,{key:"ortho-records",loader:()=>i.b(this,void 0,void 0,function*(){const e=(yield Promise.all([o.e(3),o.e(29)]).then(o.bind(null,300))).CephalometricEditorPanel;return this.openCephalometricItem?u.createElement(e,{onDismiss:()=>{this.openCephalometricItem=void 0,this.props.orthoCase.triggerUpdate++},item:this.openCephalometricItem}):u.createElement("div",null)})}):"",u.createElement(r.l,{title:Object(a.A)("Cephalometric Analysis")},a.z.online?a.z.dropboxActive?u.createElement("div",null,this.props.orthoCase.cephalometricHistory.map((e,t)=>u.createElement(r.k,{key:e.imgPath,style:{borderBottom:"1px solid #e3e3e3",marginBottom:"25px"}},u.createElement(r.c,{xs:20},u.createElement("div",{style:{marginBottom:10,cursor:"pointer"},onClick:()=>{this.cephalometricToViewIndex=t},key:t},u.createElement(r.i,{name:`${t+1}: ${Object(a.A)("Analysis")} #${t+1}`,secondaryElement:u.createElement("span",null,Object(c.j)(e.date,n.bb.getSetting("date_format"))),size:3,onClick:()=>{this.openCephalometricItem=this.props.orthoCase.cephalometricHistory[t]}}))),u.createElement(r.c,{xs:4,style:{textAlign:"right"}},u.createElement(p.a,{iconProps:{iconName:"trash"},onClick:()=>this.props.orthoCase.cephalometricHistory.splice(t,1)})))),u.createElement(r.g,{allowMultiple:!1,accept:r.r.image,onFinish:e=>i.b(this,void 0,void 0,function*(){this.props.orthoCase.cephalometricHistory.push({date:(new Date).getTime(),imgPath:e[0],pointCoordinates:"{}"}),this.openCephalometricItem=this.props.orthoCase.cephalometricHistory[this.props.orthoCase.cephalometricHistory.length-1]}),targetDir:`${a.b}/${this.props.orthoCase._id}`},u.createElement(h.a,{iconProps:{iconName:"Add"},text:Object(a.A)("New analysis")}))):u.createElement(m.a,{messageBarType:d.a.warning},Object(a.A)("A valid DropBox access token is required for this section")):u.createElement(m.a,{messageBarType:d.a.warning},Object(a.A)("You can not access cephalometric data while offline"))))}};i.c([s.k],C.prototype,"openCephalometricItem",void 0),i.c([s.k],C.prototype,"cephalometricToViewIndex",void 0),i.c([s.d],C.prototype,"canEdit",null),i.c([s.d],C.prototype,"cephalometricToView",null),C=i.c([l.a],C)}}]);